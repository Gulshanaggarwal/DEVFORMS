(this.webpackJsonpDevForms=this.webpackJsonpDevForms||[]).push([[0],{81:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),o=n(30),a=n.n(o),s=(n(81),n(15)),i=n(16),l=n(0);function d(){return Object(l.jsx)("div",{children:"404 error!"})}var u=n(9);function j(){return Object(l.jsx)("div",{children:Object(l.jsx)("h1",{className:"font-extrabold text-2xl",children:"DEV FORMS"})})}function b(){var e=Object(i.g)();return Object(l.jsx)("button",{type:"button",className:"px-3 py-2 font-light text-white bg-blue-400 rounded-md",onClick:function(){localStorage.removeItem("__auth__token"),e.replace("/")},children:"Logout"})}function m(){return Object(l.jsxs)("div",{className:"font-bold space-x-10 text-blue-500",children:[Object(l.jsx)(s.b,{to:"/forms",className:"border-b-2 border-transparent hover:border-blue-500",children:"Forms"}),Object(l.jsx)(s.b,{to:"/account",className:"border-b-2 border-transparent hover:border-blue-500",children:"Account"}),Object(l.jsx)(b,{})]})}function p(){return Object(l.jsxs)("header",{className:"w-full  flex justify-between px-8 py-8 shadow-xl",children:[Object(l.jsx)(j,{}),Object(l.jsx)(m,{})]})}var f=n(6),h=n(17),x=Object(h.c)({name:"Notification",initialState:{Notify:!1,NotificationType:"",content:""},reducers:{DoNotify:function(e,t){e.Notify=!0,e.NotificationType=t.payload.NotificationType,e.content=t.payload.content},HideNotify:function(e){e.Notify=!1}}}),O=x.actions,g=O.DoNotify,y=O.HideNotify;function v(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),a=Object(f.a)(o,2),s=a[0],d=a[1],j=Object(i.g)(),b=Object(u.b)();return Object(l.jsxs)("div",{className:"flex flex-col my-2",children:[Object(l.jsx)("label",{className:"py-2 font-medium",children:"Change Password"}),Object(l.jsx)("input",{type:"password",placeholder:"New Password",className:"bg-gray-200 rounded-md px-4 py-2",value:n,onChange:function(e){return c(e.target.value.trim())}}),Object(l.jsx)("input",{type:"password",placeholder:"Confirm New Password",className:"bg-gray-200 rounded-md px-4 py-2 my-4",value:s,onChange:function(e){return d(e.target.value.trim())}}),Object(l.jsx)("button",{type:"submit",onClick:function(e){if(e.preventDefault(),n===s){var t=localStorage.getItem("__auth__token");t&&fetch("https://devformms.herokuapp.com/verify-token",{headers:{"x-access-token":t}}).then((function(e){return e.json()})).then((function(e){e.user?fetch("https://devformms.herokuapp.com/changePassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.user.email,NewPassword:n})}).then((function(e){return e.json()})).then((function(e){"ok"===e.status?b(g({NotificationType:"success",content:"Setting Saved!"})):b(g({NotificationType:"error",content:"Error! try again"}))})).catch((function(e){return b(g({NotificationType:"error",content:"Error! try again"}))})):j.replace("/")}))}},className:"bg-blue-500 text-gray-100 font-medium px-4 py-2 rounded-md w-36",children:"Save Changes"})]})}function N(){var e=Object(r.useState)((function(){var e=localStorage.getItem("__auth__token");if(e){var t=e.split(".")[1].replace("-","+").replace("_","/");return JSON.parse(window.atob(t))}})),t=Object(f.a)(e,2),n=t[0];t[1];return n?Object(l.jsxs)("section",{className:"rounded-md w-5/6 px-8",children:[Object(l.jsx)("h2",{className:"font-bold text-2xl py-8",children:"Account"}),Object(l.jsxs)("form",{children:[Object(l.jsxs)("div",{className:"flex flex-col",children:[Object(l.jsx)("label",{className:"py-2 font-medium",children:"Your Name"}),Object(l.jsx)("input",{type:"text",value:n.name,className:"bg-gray-200 rounded-md px-4 py-2",disabled:!0})]}),Object(l.jsxs)("div",{className:"flex flex-col my-2",children:[Object(l.jsx)("label",{className:"py-2 font-medium",children:"Registered Email"}),Object(l.jsx)("input",{type:"text",disabled:!0,className:"bg-gray-200 rounded-md px-4 py-2 focus:cursor-not-allowed",value:n.email})]}),Object(l.jsx)(v,{})]})]}):Object(l.jsx)(i.a,{to:"/"})}var w=n(45),S=n(134),k=n(131),F=c.a.forwardRef((function(e,t){return Object(l.jsx)(k.a,Object(w.a)({elevation:6,ref:t,variant:"filled"},e))}));function T(){var e=Object(u.c)((function(e){return e.Notification})),t=e.Notify,n=e.NotificationType,r=e.content,c=Object(u.b)();function o(e,t){"clickaway"!==t&&c(y())}return Object(l.jsx)(S.a,{open:t,autoHideDuration:1e3,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(l.jsx)(F,{onClose:o,severity:n,children:r})})}function C(){var e=Object(u.c)((function(e){return e.Notification.Notify}));return Object(l.jsxs)("div",{children:[Object(l.jsx)(p,{}),Object(l.jsx)(N,{}),e&&Object(l.jsx)(T,{})]})}var I=n(137),E=n(139);function P(){return Object(l.jsx)(I.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!0,children:Object(l.jsx)(E.a,{color:"inherit"})})}var _=Object(h.c)({name:"CreateFormWindow",initialState:{IsCreateFormWindowAppear:!1},reducers:{ShowForm:function(e){e.IsCreateFormWindowAppear=!0},HideForm:function(e){e.IsCreateFormWindowAppear=!1}}}),D=_.actions,L=D.ShowForm,W=D.HideForm;function A(){var e=Object(u.b)();return Object(l.jsxs)("section",{className:"flex flex-col px-8 pt-48",children:[Object(l.jsx)("h2",{className:"text-center font-bold text-3xl",children:"Your Forms"}),Object(l.jsx)("button",{className:"px-4 py-2 mx-24 my-4 bg-blue-500 text-white font-medium rounded-md shadow-2xl self-end",onClick:function(){return e(L())},children:"+ New Form"})]})}var R,M=n(7),J=n(58),H=n.n(J),q=n(70),z=Object(h.b)("Forms/getForms",function(){var e=Object(q.a)(H.a.mark((function e(t,n){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://devformms.herokuapp.com/create-form",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),V=Object(h.c)({name:"Forms",initialState:{list:{projects:[]},IsLoading:!1},reducers:{ModifyList:function(e,t){var n=t.payload;e.list=n},ModifyFormName:function(e,t){var n,r=t.payload,c=r.NewFormName,o=r.FormId;e.list.projects.forEach((function(e,t){e._id===o&&(n=t)})),e.list.projects[n].formName=c},ModifyTargetEmail:function(e,t){var n,r=t.payload,c=r.NewTargetEmail,o=r.FormId;e.list.projects.forEach((function(e,t){e._id===o&&(n=t)})),e.list.projects[n].targetEmail=c},ModifyEnableSetting:function(e,t){var n,r=t.payload,c=r.FormId,o=r.NewEnableSetting;e.list.projects.forEach((function(e,t){e._id===c&&(n=t)})),e.list.projects[n].isEnabled=o}},extraReducers:(R={},Object(M.a)(R,z.pending,(function(e,t){e.IsLoading=!0})),Object(M.a)(R,z.fulfilled,(function(e,t){var n=t.payload;e.list=n.result,e.IsLoading=!1})),Object(M.a)(R,z.rejected,(function(e,t){e.IsLoading=!1})),R)}),Y=V.actions,B=Y.ModifyList,G=Y.ModifyFormName,U=Y.ModifyTargetEmail,Z=Y.ModifyEnableSetting;function K(e){var t=e.user,n=Object(i.g)(),c=Object(u.b)(),o=Object(r.useState)(""),a=Object(f.a)(o,2),s=a[0],d=a[1],j=Object(r.useState)(t.email),b=Object(f.a)(j,2),m=b[0],p=b[1];return Object(l.jsx)("section",{className:"fixed flex justify-center items-center top-0 left-0 w-full h-full bg-black z-auto",children:Object(l.jsxs)("div",{className:"bg-gray-50 rounded-md w-5/6 sm:2/3",children:[Object(l.jsx)("div",{children:Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 float-right m-2 cursor-pointer",viewBox:"0 0 20 20",fill:"black",onClick:function(){return c(W())},children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),Object(l.jsx)("h3",{className:"text-xl p-4 font-medium",children:"Create Form"}),Object(l.jsxs)("form",{className:"flex flex-col p-4",children:[Object(l.jsx)("label",{className:"py-2",children:"Form Name"}),Object(l.jsx)("input",{type:"text",value:s,placeholder:"My website",required:!0,className:"p-2 bg-gray-200 rounded-md",onChange:function(e){return d(e.target.value)}}),Object(l.jsx)("label",{className:"py-2",children:"Send Emails To"}),Object(l.jsx)("input",{type:"email",value:m,placeholder:"Enter email",required:!0,className:"p-2 mb-2 bg-gray-200 rounded-md",onChange:function(e){return p(e.target.value.trim())}}),Object(l.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white font-bold rounded-md my-2",onClick:function(e){if(e.preventDefault(),""===s||""===m)alert("can't empty");else{var r=localStorage.getItem("__auth__token");fetch("https://devformms.herokuapp.com/verify-token",{headers:{"x-access-token":r}}).then((function(e){return e.json()})).then((function(e){if(e.user){var r={userName:t.email,formName:s,targetEmail:m};c(z(r)).then((function(e){"Forms/getForms/fulfilled"===e.type?(c(g({NotificationType:"success",content:"Hurrah! created successfully"})),c(W())):c(g({NotificationType:"error",content:"Error! occurred"}))}))}else n.replace("/")}))}},children:"Create Form"})]})]})})}function Q(e){var t=e.id,n=Object(u.c)((function(e){return function(e,t){return e.Forms.list.projects.filter((function(e){return e._id===t}))}(e,t)})),r=Object(f.a)(n,1)[0],c=r.formName,o=r.totalSubmissions,a=r.isEnabled,d=Object(i.i)().path;return Object(l.jsxs)("tr",{className:"bg-gray-300 rounded-md border-b-8 border-gray-200",children:[Object(l.jsx)("td",{className:"text-xl p-4 text-blue-500 font-thin text-justify",children:Object(l.jsx)(s.b,{to:"".concat(d,"/").concat(t,"/integration"),className:"underline",children:c})}),Object(l.jsx)("td",{className:"p-4",children:o}),a?Object(l.jsx)("td",{className:"p-4 font-medium text-green-700",children:"Active"}):Object(l.jsx)("td",{className:"p-4 font-medium text-red-700",children:"Disabled"})]})}function X(e){var t,n=e.user,c=Object(u.c)((function(e){return function(e){return e.Forms.list.projects.length>0?e.Forms.list.projects.slice().reverse().map((function(e){return e._id})):null}(e)})),o=Object(u.b)();return Object(r.useEffect)((function(){fetch("https://devformms.herokuapp.com/send-initialData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:n.email})}).then((function(e){return e.json()})).then((function(e){"ok"===e.status&&e.result&&o(B(e.result))})).catch((function(e){return console.log(e)}))}),[]),c&&(t=c.map((function(e){return Object(l.jsx)(Q,{id:e},e)}))),Object(l.jsx)("section",{children:c?Object(l.jsxs)("table",{className:"table-fixed mx-auto",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{className:"px-8 py-4 text-xl",children:"Form"}),Object(l.jsx)("th",{className:"px-8 py-4 text-xl",children:"Total Submissions"}),Object(l.jsx)("th",{className:"px-8 py-4 text-xl",children:"Status"})]})}),Object(l.jsx)("tbody",{className:"bg-green-500 text-center",children:t})]}):Object(l.jsx)("h3",{className:"py-4 text-gray-600 text-center",children:"Oops! No Form Found"})})}function $(){var e=Object(i.h)().FormId,t=Object(u.c)((function(e){return e.Forms.list?e.Forms.list._id:""})),n="https://devformms.herokuapp.com/".concat(t,"/").concat(e);return Object(l.jsx)("section",{className:"px-16 py-8 bg-blue-300",children:Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{className:"font-medium text-xl",children:"Your Form's endpoint is :"}),Object(l.jsxs)("div",{className:"flex py-4 space-x-6",children:[Object(l.jsx)("div",{className:"pl-4 pr-28 py-3 bg-gray-300 rounded-md url-box",children:n}),Object(l.jsx)("button",{type:"button",className:"p-3 font-medium border-2 border-black rounded-md",onClick:function(){var e=document.querySelector(".url-box"),t=document.body.appendChild(document.createElement("input"));t.value=e.innerHTML,t.select(),document.execCommand("copy"),document.body.removeChild(t),alert("copied")},children:"Copy"})]})]})})}function ee(e){var t=e.formName,n=e.FormId,c=Object(r.useState)(t),o=Object(f.a)(c,2),a=o[0],s=o[1],d=Object(r.useState)(!1),j=Object(f.a)(d,2),b=j[0],m=j[1],p=Object(i.g)(),h=Object(u.b)();return Object(l.jsxs)("form",{className:"py-2",children:[Object(l.jsx)("label",{className:"text-xl font-medium",children:"Form Name"}),Object(l.jsxs)("div",{className:"flex my-2",children:[Object(l.jsx)("input",{className:"bg-gray-300 rounded-md pl-3 py-2 w-1/2",type:"text",value:a,onChange:function(e){var n=e.target.value;s(n.trim()),m(n!==t)}}),b?Object(l.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-gray-100 rounded-md mx-4",type:"submit",onClick:function(e){e.preventDefault();var t=localStorage.getItem("__auth__token");fetch("https://devformms.herokuapp.com/verify-token",{headers:{"x-access-token":t}}).then((function(e){return e.json()})).then((function(e){e.user?fetch("https://devformms.herokuapp.com/update-formName",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:e.user.email,NewFormName:a,FormId:n})}).then((function(e){return e.json()})).then((function(e){"ok"===e.status&&(h(G({NewFormName:a,FormId:n})),h(g({NotificationType:"success",content:"Setting Saved!"})))})).catch((function(e){return h(g({NotificationType:"error",content:"Error! try again"}))})):p.replace("/")}))},children:"Save"}):Object(l.jsx)("button",{className:"px-4 py-2 bg-gray-300 rounded-md mx-4",type:"submit",children:"Save"})]})]})}function te(e){var t=e.targetEmail,n=e.FormId,c=Object(r.useState)(t),o=Object(f.a)(c,2),a=o[0],s=o[1],d=Object(r.useState)(!1),j=Object(f.a)(d,2),b=j[0],m=j[1],p=Object(u.b)(),h=Object(i.g)();return Object(l.jsxs)("form",{children:[Object(l.jsx)("label",{className:"text-xl font-medium",children:"Target Email"}),Object(l.jsxs)("div",{className:"flex my-2",children:[Object(l.jsx)("input",{className:"bg-gray-300 rounded-md pl-3 py-2 w-1/2",type:"text",value:a,onChange:function(e){var n=e.target.value;s(n.trim()),m(n!==t)}}),b?Object(l.jsx)("button",{className:"px-4 py-2 bg-blue-500 text-gray-100  rounded-md mx-4",type:"submit",onClick:function(e){e.preventDefault();var t=localStorage.getItem("__auth__token");fetch("https://devformms.herokuapp.com/verify-token",{headers:{"x-access-token":t}}).then((function(e){return e.json()})).then((function(e){e.user?fetch("https://devformms.herokuapp.com/update-targetEmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:e.user.email,NewTargetEmail:a,FormId:n})}).then((function(e){return e.json()})).then((function(e){"ok"===e.status&&(p(U({NewTargetEmail:a,FormId:n})),p(g({NotificationType:"success",content:"Setting Saved!"})))})).catch((function(e){return p(g({NotificationType:"error",content:"Error! try again"}))})):h.replace("/")}))},children:"Save"}):Object(l.jsx)("button",{className:"px-4 py-2 bg-gray-300 rounded-md mx-4",type:"submit",children:"Save"})]})]})}var ne=n(133);function re(e){var t=e.isEnabled,n=e.FormId,r=c.a.useState(t),o=Object(f.a)(r,2),a=o[0],s=o[1],d=Object(u.b)(),j=Object(i.g)();return Object(l.jsxs)("div",{className:"flex items-center py-4",children:[Object(l.jsxs)("div",{className:"w-1/2",children:[Object(l.jsx)("h2",{className:"font-medium text-xl",children:"Form Enabled"}),Object(l.jsx)("p",{className:"text-gray-600",children:"Do check to allow new submissions"})]}),Object(l.jsx)(ne.a,{checked:a,onChange:function(e){s(e.target.checked);var t=localStorage.getItem("__auth__token");fetch("https://devformms.herokuapp.com/verify-token",{headers:{"x-access-token":t}}).then((function(e){return e.json()})).then((function(t){t.user?fetch("https://devformms.herokuapp.com/update-EnableSetting",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:t.user.email,NewEnableSetting:e.target.checked,FormId:n})}).then((function(e){return e.json()})).then((function(t){"ok"===t.status&&(d(Z({NewEnableSetting:e.target.checked,FormId:n})),d(g({NotificationType:"success",content:"Setting Saved!"})))})).catch((function(e){return d(g({NotificationType:"error",content:"Error! try again"}))})):j.replace("/")}))},inputProps:{"aria-label":"controlled"}})]})}var ce=Object(h.c)({name:"DelDialog",initialState:{IsDelDialogOpen:!1},reducers:{DelDialogOpen:function(e){console.log("called"),e.IsDelDialogOpen=!0},DelDialogClose:function(e){e.IsDelDialogOpen=!1}}}),oe=ce.actions,ae=oe.DelDialogOpen,se=oe.DelDialogClose;function ie(){var e=Object(u.b)();return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{className:"py-4 text-2xl font-medium",children:"Risk Zone"}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"flex items-center",children:[Object(l.jsxs)("div",{className:"py-4 w-1/2",children:[Object(l.jsx)("h2",{className:"text-xl font-medium",children:"Delete Form"}),Object(l.jsx)("p",{className:"text-gray-600",children:"Deleting the form won't allow you to perform any type of submissions"})]}),Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 cursor-pointer",viewBox:"0 0 20 20",fill:"red",onClick:function(){return e(ae())},children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})]})]})}var le=n(145),de=n(130),ue=n(144),je=n(142),be=n(143),me=n(141),pe=n(135),fe=c.a.forwardRef((function(e,t){return Object(l.jsx)(pe.a,Object(w.a)({direction:"up",ref:t},e))}));function he(e){var t=e.FormId,n=Object(u.c)((function(e){return e.DelDialog.IsDelDialogOpen})),r=Object(i.g)(),c=Object(u.b)(),o=function(){c(se())};return Object(l.jsx)("div",{children:Object(l.jsxs)(de.a,{open:n,TransitionComponent:fe,keepMounted:!0,onClose:o,"aria-describedby":"alert-dialog-slide-description",children:[Object(l.jsx)(me.a,{children:"Are You Sure?"}),Object(l.jsx)(je.a,{children:Object(l.jsx)(be.a,{id:"alert-dialog-slide-description",children:"Once you delete this form you won't be able to use it anymore."})}),Object(l.jsxs)(ue.a,{children:[Object(l.jsx)(le.a,{onClick:o,children:"Disagree"}),Object(l.jsx)(le.a,{onClick:function(){var e=localStorage.getItem("__auth__token");fetch("https://devformms.herokuapp.com/verify-token",{headers:{"x-access-token":e}}).then((function(e){return e.json()})).then((function(e){e.user?fetch("https://devformms.herokuapp.com/DeleteForm",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:e.user.email,FormId:t})}).then((function(e){return e.json()})).then((function(e){"ok"===e.status?(c(se()),r.replace("/forms")):c(g({NotificationType:"error",content:"Error! try again"}))})).catch((function(e){return c(g({NotificationType:"error",content:"Error! try again"}))})):r.replace("/")}))},children:"Agree"})]})]})})}function xe(){var e=Object(i.h)().FormId,t=Object(u.c)((function(t){return function(e,t){return e.Forms.list.projects.find((function(e){return e._id===t}))}(t,e)})),n=t.formName,r=t.targetEmail,c=t.isEnabled;return Object(l.jsxs)("section",{className:"px-16",children:[Object(l.jsx)("h2",{className:"font-medium text-2xl py-4",children:"General"}),Object(l.jsx)("hr",{}),Object(l.jsx)(ee,{formName:n,FormId:e}),Object(l.jsx)(te,{targetEmail:r,FormId:e}),Object(l.jsx)(re,{isEnabled:c,FormId:e}),Object(l.jsx)(ie,{}),Object(l.jsx)(T,{}),Object(l.jsx)(he,{FormId:e})]})}function Oe(){var e=Object(i.i)().url,t=Object(i.g)();return Object(r.useEffect)((function(){t.replace("".concat(e,"/integration"))})),Object(l.jsx)("div",{})}function ge(){var e=Object(i.i)(),t=e.url,n=e.path,r=Object(i.h)().FormId,c=Object(u.c)((function(e){return function(e,t){if(e.Forms.list.projects.length>0)return e.Forms.list.projects.find((function(e){return e._id===t}))}(e,r)})),o=(c||"").formName;return c?Object(l.jsxs)("div",{children:[Object(l.jsxs)("h2",{className:"text-center text-2xl font-bold py-8",children:["You're viewing- ",o]}),Object(l.jsxs)("div",{className:"p-16 space-x-4",children:[Object(l.jsx)(s.b,{to:"".concat(t,"/integration"),className:"font-medium text-blue-500 text-xl",children:"Integration"}),Object(l.jsx)(s.b,{to:"".concat(t,"/settings"),className:"font-medium text-blue-500 text-xl",children:"Settings"})]}),Object(l.jsxs)(i.d,{children:[Object(l.jsx)(i.b,{path:n,exact:!0,component:Oe}),Object(l.jsx)(i.b,{path:"".concat(n,"/integration"),exact:!0,component:$}),Object(l.jsx)(i.b,{path:"".concat(n,"/settings"),exact:!0,component:xe})]})]}):Object(l.jsx)(i.a,{to:"/forms"})}function ye(){var e=function(){var e=Object(r.useState)(),t=Object(f.a)(e,2),n=t[0],c=t[1],o=Object(i.g)();return Object(r.useEffect)((function(){var e=localStorage.getItem("__auth__token");e?fetch("https://devformms.herokuapp.com/verify-token",{headers:{"x-access-token":e}}).then((function(e){return e.json()})).then((function(e){e.user?c(e.user):o.replace("/login")})).catch((function(e){return o.replace("/login")})):o.replace("/login")}),[]),n}(),t=Object(u.c)((function(e){return e.CreateFormWindow.IsCreateFormWindowAppear})),n=Object(u.c)((function(e){return e.Forms.IsLoading})),c=Object(u.c)((function(e){return e.Notification.Notify})),o=Object(i.i)().path;return Object(l.jsxs)("div",{children:[Object(l.jsx)(p,{}),Object(l.jsxs)(i.d,{children:[Object(l.jsxs)(i.b,{path:"".concat(o),exact:!0,children:[Object(l.jsx)(A,{}),e&&Object(l.jsx)(X,{user:e}),t&&Object(l.jsx)(K,{user:e}),n&&Object(l.jsx)(P,{}),c&&Object(l.jsx)(T,{})]}),Object(l.jsx)(i.b,{path:"".concat(o,"/:FormId"),children:Object(l.jsx)(ge,{})})]})]})}function ve(){return Object(l.jsxs)("header",{className:"flex justify-between px-8 py-4 bg-gray-100 shadow-xl",children:[Object(l.jsx)(j,{}),Object(l.jsxs)("div",{className:"space-x-2",children:[Object(l.jsx)(s.b,{to:"/register",className:"px-4 py-2 bg-blue-500 text-white font-medium rounded-md",children:"Get Started"}),Object(l.jsx)(s.b,{to:"/login",className:"px-4 py-2 bg-blue-200 text-blue-500 font-medium rounded-md",children:"Sign in"})]})]})}var Ne=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(ve,{}),Object(l.jsx)("div",{})]})};var we=function(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),a=Object(f.a)(o,2),d=a[0],u=a[1],j=Object(i.g)();return Object(l.jsx)("section",{className:"bg-gray-100 h-screen flex justify-center items-center",children:Object(l.jsxs)("div",{className:"w-1/3",children:[Object(l.jsx)("h1",{className:"text-xl my-2",children:"Welcome to Login Page"}),Object(l.jsxs)("p",{className:"pb-8",children:[Object(l.jsx)("span",{className:"text-gray-600",children:"Or"})," ",Object(l.jsx)(s.b,{to:"/register",className:"text-blue-600 underline",children:"Register quickly"})]}),Object(l.jsxs)("form",{className:"flex flex-col",children:[Object(l.jsx)("input",{className:"p-2 my-2 bg-gray-200  outline-none focus:border-blue-500 border-2 rounded-md",type:"email",value:n,placeholder:"Your Registered Email",autoFocus:!0,required:!0,onChange:function(e){return c(e.target.value.trim())}}),Object(l.jsx)("input",{className:"p-2 bg-gray-200 focus:border-blue-500 border-2 outline-none rounded-md",type:"password",value:d,placeholder:"Password",required:!0,onChange:function(e){return u(e.target.value.trim())}}),Object(l.jsx)("button",{className:"p-2 bg-blue-500 my-2 text-white hover:bg-blue-600 rounded-md",type:"submit",onClick:function(e){e.preventDefault(),fetch("https://devformms.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:d})}).then((function(e){return e.json()})).then((function(e){e.token?(window.localStorage.setItem("__auth__token",e.token),j.push("/forms")):alert("Wrong credentials")})).catch((function(e){return console.log(e)}))},children:"Login"})]}),Object(l.jsx)(s.b,{to:"/forget-password",className:"py-4 text-blue-600 underline",children:"Forget password?"})]})})},Se=Object(h.c)({name:"OtpWindow",initialState:{isOTPWindowVisible:!1},reducers:{Appear:function(e){e.isOTPWindowVisible=!0},Hide:function(e){e.isOTPWindowVisible=!1}}}),ke=Se.actions,Fe=ke.Appear,Te=ke.Hide,Ce=Object(h.c)({name:"Loader",initialState:{IsLoaderActive:!1},reducers:{Active:function(e){e.IsLoaderActive=!0},Disable:function(e){e.IsLoaderActive=!1}}}),Ie=Ce.actions,Ee=Ie.Active,Pe=Ie.Disable;function _e(e){var t=e.name,n=e.email,c=e.password,o=Object(r.useState)(""),a=Object(f.a)(o,2),s=a[0],d=a[1],j=Object(i.g)(),b=Object(u.b)();return Object(l.jsx)("section",{className:"w-full h-full fixed top-0 left-0 bg-black-transparent flex justify-center items-center",children:Object(l.jsxs)("div",{className:"w-5/6 bg-gray-200 rounded-md shadow-2xl sm:w-1/2",children:[Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 float-right m-2 cursor-pointer",viewBox:"0 0 20 20",fill:"black",onClick:function(){return b(Te())},children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),Object(l.jsxs)("div",{className:"text-center my-4",children:[Object(l.jsx)("p",{className:"py-2 font-medium text-xl",children:"Enter 6 digit OTP"}),Object(l.jsx)("p",{className:"text-green-700 text-center",children:"OTP Sent Successfully"})]}),Object(l.jsxs)("form",{className:"flex flex-col px-4 my-4",children:[Object(l.jsx)("input",{type:"text",placeholder:"Enter OTP",value:s,className:"px-3 py-2 rounded-md",required:!0,onChange:function(e){var t=e.target.value;""===t&&void 0===t||d(parseInt(e.target.value))}}),Object(l.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),b(Ee()),fetch("https://devformms.herokuapp.com/register/verifyOTP",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:n,password:c,userOTP:s})}).then((function(e){return b(Pe()),e.json()})).then((function(e){"ok"===e.status?e.verified?(alert("Registered successfully"),j.push("/login")):alert("incorrect OTP"):alert("error occurred")}))},className:"bg-blue-500 font-medium text-gray-100 rounded-md py-2 my-2",children:"Verify"})]})]})})}var De=function(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),n=t[0],o=t[1],a=Object(r.useState)(""),i=Object(f.a)(a,2),d=i[0],j=i[1],b=Object(r.useState)(""),m=Object(f.a)(b,2),p=m[0],h=m[1],x=Object(u.c)((function(e){return e.OtpWindow.isOTPWindowVisible})),O=Object(u.c)((function(e){return e.Loader.IsLoaderActive})),g=Object(u.b)();return Object(l.jsxs)(c.a.Fragment,{children:[Object(l.jsx)("div",{className:"bg-gray-100 h-screen flex justify-center items-center",children:Object(l.jsxs)("div",{className:"w-1/3",children:[Object(l.jsx)("h1",{className:"text-xl py-4 font-bold",children:"Welcome to Sign up Page"}),Object(l.jsxs)("form",{className:"flex flex-col",children:[Object(l.jsx)("input",{className:"p-2 my-2 bg-gray-200 outline-none rounded-md focus:border-blue-500 border-2",type:"text",value:n,placeholder:"Your Name",autoFocus:!0,required:!0,onChange:function(e){return o(e.target.value)}}),Object(l.jsx)("input",{className:"p-2 my-2 bg-gray-200 outline-none rounded-md focus:border-blue-500 border-2",type:"email",value:d,placeholder:"Your Email",required:!0,onChange:function(e){return j(e.target.value)}}),Object(l.jsx)("input",{className:"p-2 bg-gray-200 focus:border-blue-500 border-2 outline-none rounded-md",type:"password",value:p,placeholder:"Set Password",required:!0,onChange:function(e){return h(e.target.value)}}),Object(l.jsx)("button",{className:"p-2 bg-blue-500 my-2 text-white hover:bg-blue-600 rounded-md",type:"submit",onClick:function(e){e.preventDefault(),g(Ee()),fetch("https://devformms.herokuapp.com/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:d,password:p})}).then((function(e){return g(Pe()),e.json()})).then((function(e){"ok"===e.status?e.user?alert("User alreaady exists"):e.sent?g(Fe()):alert("OTP error"):alert("error occurred")})).catch((function(e){return console.log(e)}))},children:"Sign up"})]}),Object(l.jsxs)("p",{className:"py-4",children:[Object(l.jsx)("span",{className:"text-gray-600",children:"Already have an account?"}),Object(l.jsx)(s.b,{to:"/login",className:"px-2 text-blue-600",children:"Sign in!"})]})]})}),x&&Object(l.jsx)(_e,{name:n,email:d,password:p}),O&&Object(l.jsx)(P,{})]})},Le=Object(h.c)({name:"ForgetPassword",initialState:{IsForgetPasswordWindow:!1},reducers:{ShowForgetPasswordWindow:function(e){e.IsForgetPasswordWindow=!0},HideForgetPasswordWindow:function(e){e.IsForgetPasswordWindow=!1}}}),We=Le.actions,Ae=We.ShowForgetPasswordWindow,Re=We.HideForgetPasswordWindow;function Me(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],o=Object(u.b)();return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"flex flex-col px-32 py-24 w-2/3",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{className:"font-bold text-2xl py-2",children:"Enter Your Registered Email"}),Object(l.jsx)("h3",{className:"font-bold text-2xl",children:"We'll send you OTP to reset your password"})]}),Object(l.jsxs)("form",{className:"flex flex-col w-5/6 py-4 space-y-4",children:[Object(l.jsx)("input",{type:"email",placeholder:"xyz@gmail.com",className:"px-3 py-2 rounded-md bg-gray-200",onChange:function(e){return c(e.target.value.trim())},required:!0}),Object(l.jsx)("button",{className:"bg-blue-500 text-gray-100 font-medium py-2 px-3 rounded-md w-32",onClick:function(e){e.preventDefault(),fetch("https://devformms.herokuapp.com/forgetPassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})}).then((function(e){return e.json()})).then((function(e){"ok"===e.status?o(Ae()):o(g({NotificationType:"error",content:"Error! try again"}))})).catch((function(e){return o(g({NotificationType:"error",content:"Error! try again"}))}))},children:"Send OTP"})]})]})})}function Je(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(""),a=Object(f.a)(o,2),s=a[0],d=a[1],j=Object(r.useState)(""),b=Object(f.a)(j,2),m=b[0],p=b[1],h=Object(i.g)(),x=Object(u.b)();return Object(l.jsx)("div",{className:"w-full h-full fixed top-0 left-0 bg-black-transparent flex justify-center items-center",children:Object(l.jsxs)("div",{className:"w-5/6 bg-gray-200 rounded-md shadow-2xl sm:w-1/2",children:[Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 float-right m-2 cursor-pointer",viewBox:"0 0 20 20",fill:"black",onClick:function(){return x(Re())},children:Object(l.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),Object(l.jsxs)("form",{className:"my-8 px-8 flex flex-col space-y-4 w-full",children:[Object(l.jsx)("input",{type:"password",placeholder:"Set New Password",value:n,className:"px-3 py-2 rounded-md",onChange:function(e){return c(e.target.value.trim())}}),Object(l.jsx)("input",{type:"password",placeholder:"Confirm New Password",value:s,className:"px-3 py-2 rounded-md",onChange:function(e){return d(e.target.value.trim())}}),Object(l.jsx)("input",{type:"text",placeholder:"Enter 6 digit OTP",className:"px-3 py-2 rounded-md",onChange:function(e){var t=e.target.value;""===t&&void 0===t||p(parseInt(e.target.value))}}),Object(l.jsx)("button",{type:"submit",className:"bg-blue-500 font-medium text-gray-100 rounded-md py-2 my-2",onClick:function(e){e.preventDefault(),n===s&&fetch("https://devformms.herokuapp.com/forgetPassword/verifyOTP",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({NewPassword:n,userOTP:m})}).then((function(e){return e.json()})).then((function(e){"ok"===e.status?(x(g({NotificationType:"success",content:"changes successfully"})),h.replace("/login")):x(g({NotificationType:"error",content:"Error! try again"}))})).catch((function(e){return x(g({NotificationType:"error",content:"Error! try again"}))}))},children:"Change Password"})]})]})})}function He(){var e=Object(u.c)((function(e){return e.ForgetPassword.IsForgetPasswordWindow}));return Object(l.jsxs)("div",{children:[Object(l.jsx)(Me,{}),e&&Object(l.jsx)(Je,{}),Object(l.jsx)(T,{})]})}var qe=function(){return Object(l.jsx)(s.a,{children:Object(l.jsxs)(i.d,{children:[Object(l.jsx)(i.b,{path:"/",exact:!0,component:Ne}),Object(l.jsx)(i.b,{path:"/login",exact:!0,component:we}),Object(l.jsx)(i.b,{path:"/forget-password",exact:!0,component:He}),Object(l.jsx)(i.b,{path:"/register",exact:!0,component:De}),Object(l.jsx)(i.b,{path:"/forms",component:ye}),Object(l.jsx)(i.b,{path:"/account",exact:!0,component:C}),Object(l.jsx)(i.b,{path:"*",exact:!0,component:d})]})})};var ze=function(){return Object(l.jsx)(qe,{})},Ve=Object(h.a)({reducer:{OtpWindow:Se.reducer,Loader:Ce.reducer,CreateFormWindow:_.reducer,Forms:V.reducer,Notification:x.reducer,DelDialog:ce.reducer,ForgetPassword:Le.reducer}});a.a.render(Object(l.jsx)(u.a,{store:Ve,children:Object(l.jsx)(ze,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.10d5c031.chunk.js.map